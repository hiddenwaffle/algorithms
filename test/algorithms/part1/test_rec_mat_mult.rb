require 'test_helper'
require 'algorithms/part1/rec_mat_mult'

class TestRecMatMult < Minitest::Test
  def setup
    @subject = Algorithms::RecMatMult.new
  end

  def test_rec_int_mult_2x2
    a = [[1, 2], [3, 4]]
    b = [[5, 6], [7, 8]]
    c = [[19, 22], [43, 50]]
    assert_equal c, @subject.rec_mat_mult(a, b)
  end

  def test_rec_int_mult_4x4
    a = [
      [1, 2, 3, 4],
      [5, 6, 7, 8],
      [9, 10, 11, 12],
      [13, 14, 15, 16]
    ]
    b = [
      [17, 18, 19, 20],
      [21, 22, 23, 24],
      [25, 26, 27, 28],
      [29, 30, 31, 32]
    ]
    c = [
      [250, 260, 270, 280],
      [618, 644, 670, 696],
      [986, 1028, 1070, 1112],
      [1354, 1412, 1470, 1528]
    ]
    assert_equal c, @subject.rec_mat_mult(a, b)
  end

  def test_rec_int_mult_8x8
    a = [
      [1, 2, 3, 4, 5, 6, 7, 8],
      [9, 1, 2, 3, 4, 5, 6, 7],
      [8, 9, 1, 2, 3, 4, 5, 6],
      [7, 8, 9, 1, 2, 3, 4, 5],
      [6, 7, 8, 9, 1, 2, 3, 4],
      [5, 6, 7, 8, 9, 1, 2, 3],
      [4, 5, 6, 7, 8, 9, 1, 2],
      [1, 1, 1, 1, 1, 1, 1, 1]
    ]
    b = [
      [1, 2, 3, 4, 5, 6, 7, 8],
      [9, 1, 2, 3, 4, 5, 6, 7],
      [8, 9, 1, 2, 3, 4, 5, 6],
      [7, 8, 9, 1, 2, 3, 4, 5],
      [6, 7, 8, 9, 1, 2, 3, 4],
      [5, 6, 7, 8, 9, 1, 2, 3],
      [4, 5, 6, 7, 8, 9, 1, 2],
      [9, 9, 9, 9, 9, 9, 9, 9]
    ]
    c = [
      [231, 241, 242, 234, 217, 191, 156, 184],
      [191, 212, 224, 227, 221, 206, 182, 212],
      [223, 174, 197, 211, 216, 212, 199, 231],
      [246, 208, 161, 186, 202, 209, 207, 241],
      [260, 233, 197, 152, 179, 197, 206, 242],
      [265, 249, 224, 190, 147, 176, 196, 234],
      [261, 256, 242, 219, 187, 146, 177, 217],
      [ 49,  47,  45,  43,  41,  39,  37,  44]
    ]
    assert_equal c, @subject.rec_mat_mult(a, b)
  end
end
